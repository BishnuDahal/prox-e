(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+jW5":function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return i}));class i{constructor(e=[],t=n){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let o=(this.length>>1)-1;o>=0;o--)this._down(o)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:o}=this,i=t[e];for(;e>0;){const n=e-1>>1,a=t[n];if(o(i,a)>=0)break;t[e]=a,e=n}t[e]=i}_down(e){const{data:t,compare:o}=this,i=this.length>>1,n=t[e];for(;e<i;){let i=1+(e<<1),a=t[i];const r=i+1;if(r<this.length&&o(t[r],a)<0&&(i=r,a=t[r]),o(a,n)>=0)break;t[e]=a,e=i}t[e]=n}}function n(e,t){return e<t?-1:e>t?1:0}},JXP8:function(e,t,o){!function(e){"use strict";var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,o=this._zoom;if(e.__parent)for(;t.__parent._zoom>=o;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var o,i=this._featureGroup,n=this._nonPointGroup,a=this.options.chunkedLoading,r=this.options.chunkInterval,s=this.options.chunkProgress,l=e.length,d=0,u=!0;if(this._map){var c=(new Date).getTime(),h=L.bind((function(){for(var g=(new Date).getTime();d<l&&!(a&&d%200==0&&(new Date).getTime()-g>r);d++)if((o=e[d])instanceof L.LayerGroup)u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(o,e),l=e.length;else if(o.getLatLng){if(!this.hasLayer(o)&&(this._addLayer(o,this._maxZoom),t||this.fire("layeradd",{layer:o}),o.__parent&&2===o.__parent.getChildCount())){var m=o.__parent.getAllChildMarkers();i.removeLayer(m[0]===o?m[1]:m[0])}}else n.addLayer(o),t||this.fire("layeradd",{layer:o});s&&s(d,l,(new Date).getTime()-c),d===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)}),this);h()}else for(var g=this._needsClustering;d<l;d++)(o=e[d])instanceof L.LayerGroup?(u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(o,e),l=e.length):o.getLatLng?this.hasLayer(o)||g.push(o):n.addLayer(o);return this},removeLayers:function(e){var t,o,i=e.length,n=this._featureGroup,a=this._nonPointGroup,r=!0;if(!this._map){for(t=0;t<i;t++)(o=e[t])instanceof L.LayerGroup?(r&&(e=e.slice(),r=!1),this._extractNonGroupLayers(o,e),i=e.length):(this._arraySplice(this._needsClustering,o),a.removeLayer(o),this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),l=i;for(t=0;t<l;t++)(o=s[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(o,s),l=s.length):this._unspiderfyLayer(o)}for(t=0;t<i;t++)(o=e[t])instanceof L.LayerGroup?(r&&(e=e.slice(),r=!1),this._extractNonGroupLayers(o,e),i=e.length):o.__parent?(this._removeLayer(o,!0,!0),this.fire("layerremove",{layer:o}),n.hasLayer(o)&&(n.removeLayer(o),o.clusterShow&&o.clusterShow())):(a.removeLayer(o),this.fire("layerremove",{layer:o}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var o,i,n,a=this._needsClustering.slice(),r=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(a),i=a.length-1;i>=0;i--){for(o=!0,n=r.length-1;n>=0;n--)if(r[n].layer===a[i]){o=!1;break}o&&e.call(t,a[i])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(o){L.stamp(o)===e&&(t=o)})),t},hasLayer:function(e){if(!e)return!1;var t,o=this._needsClustering;for(t=o.length-1;t>=0;t--)if(o[t]===e)return!0;for(t=(o=this._needsRemoving).length-1;t>=0;t--)if(o[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var o=function(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",o,this),this.off("animationend",o,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",o,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",o,this),this.on("animationend",o,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,o,i;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,o=this._needsRemoving.length;t<o;t++)(i=this._needsRemoving[t]).newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(t=0,o=this._needsRemoving.length;t<o;t++)this._removeLayer((i=this._needsRemoving[t]).layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),o=this._needsClustering,this._needsClustering=[],this.addLayers(o,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var o=e.length-1;o>=0;o--)if(e[o]===t)return e.splice(o,1),!0},_removeFromGridUnclustered:function(e,t){for(var o=this._map,i=this._gridUnclustered,n=Math.floor(this._map.getMinZoom());t>=n&&i[t].removeObject(e,o.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,o){e._latlng=t,this.removeLayer(e),e._latlng=o,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,o){var i=this._gridClusters,n=this._gridUnclustered,a=this._featureGroup,r=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,d=e.__parent;for(this._arraySplice(d._markers,e);d&&(d._childCount--,d._boundsNeedUpdate=!0,!(d._zoom<s));)t&&d._childCount<=1?(l=d._markers[0]===e?d._markers[1]:d._markers[0],i[d._zoom].removeObject(d,r.project(d._cLatLng,d._zoom)),n[d._zoom].addObject(l,r.project(l.getLatLng(),d._zoom)),this._arraySplice(d.__parent._childClusters,d),d.__parent._markers.push(l),l.__parent=d.__parent,d._icon&&(a.removeLayer(d),o||a.addLayer(l))):d._iconNeedsUpdate=!0,d=d.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,o){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,o)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),o=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+(o+=t<10?"small":t<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.on("clusterclick",this._zoomOrSpiderfy,this),t&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,o=t;1===o._childClusters.length;)o=o._childClusters[0];o._zoom===this._maxZoom&&o._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.showCoverageOnHover,t=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),t.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),o=this.options.maxClusterRadius,i=o;"function"!=typeof o&&(i=function(){return o}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var n=e;n>=t;n--)this._gridClusters[n]=new L.DistanceGrid(i(n)),this._gridUnclustered[n]=new L.DistanceGrid(i(n));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var o,i,n=this._gridClusters,a=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=r;t--){o=this._map.project(e.getLatLng(),t);var s=n[t].getNearObject(o);if(s)return s._addChild(e),void(e.__parent=s);if(s=a[t].getNearObject(o)){var l=s.__parent;l&&this._removeLayer(s,!1);var d=new this._markerCluster(this,t,s,e);n[t].addObject(d,this._map.project(d._cLatLng,t)),s.__parent=d,e.__parent=d;var u=d;for(i=t-1;i>l._zoom;i--)u=new this._markerCluster(this,i,u),n[i].addObject(u,this._map.project(s.getLatLng(),i));return l._addChild(u),void this._removeFromGridUnclustered(s,t)}a[t].addObject(e,o)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var o=t.getAllChildMarkers();this._featureGroup.removeLayer(o[0]),this._featureGroup.removeLayer(o[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var o,i=e.getLayers(),n=0;for(t=t||[];n<i.length;n++)(o=i[n])instanceof L.LayerGroup?this._extractNonGroupLayers(o,t):t.push(o);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var o,i=this._getExpandedVisibleBounds(),n=this._featureGroup,a=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,e,a,(function(a){var r,s=a._latlng,l=a._markers;for(i.contains(s)||(s=null),a._isSingleParent()&&e+1===t?(n.removeLayer(a),a._recursivelyAddChildrenToMap(null,t,i)):(a.clusterHide(),a._recursivelyAddChildrenToMap(s,t,i)),o=l.length-1;o>=0;o--)i.contains((r=l[o])._latlng)||n.removeLayer(r)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,t),n.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(i,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(i,e,a,(function(e){n.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var o=this,i=this._featureGroup;i.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){i.removeLayer(e),e.clusterShow(),o._animationEnd()}))):(this._forceLayout(),o._animationStart(),o._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,o){var i=this._getExpandedVisibleBounds(),n=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(i,n,t+1,o);var a=this;this._forceLayout(),e._recursivelyBecomeVisible(i,o),this._enqueue((function(){if(1===e._childCount){var r=e._markers[0];this._ignoreMove=!0,r.setLatLng(r.getLatLng()),this._ignoreMove=!1,r.clusterShow&&r.clusterShow()}else e._recursively(i,o,n,(function(e){e._recursivelyRemoveChildrenFromMap(i,n,t+1)}));a._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,o,i){L.Marker.prototype.initialize.call(this,o?o._cLatLng||o.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,o&&this._addChild(o),i&&this._addChild(i)},getAllChildMarkers:function(e,t){e=e||[];for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o].getAllChildMarkers(e);for(var i=this._markers.length-1;i>=0;i--)t&&this._markers[i].__dragStart||e.push(this._markers[i]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,o=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),a=this._zoom+1,r=i.getZoom();o.length>0&&n>a;){a++;var s=[];for(t=0;t<o.length;t++)s=s.concat(o[t]._childClusters);o=s}n>a?this._group._map.setView(this._latlng,a):n<=r?this._group._map.setView(this._latlng,r+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,o,i,n=this._markers,a=this._childClusters,r=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<n.length;e++)this._bounds.extend(o=n[e]._latlng),r+=o.lat,s+=o.lng;for(e=0;e<a.length;e++)(t=a[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),r+=(o=t._wLatLng).lat*(i=t._childCount),s+=o.lng*i;this._latlng=this._wLatLng=new L.LatLng(r/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,o){this._recursively(e,this._group._map.getMinZoom(),o-1,(function(e){var o,i,n=e._markers;for(o=n.length-1;o>=0;o--)(i=n[o])._icon&&(i._setPos(t),i.clusterHide())}),(function(e){var o,i,n=e._childClusters;for(o=n.length-1;o>=0;o--)(i=n[o])._icon&&(i._setPos(t),i.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,o,i){this._recursively(e,i,t,(function(n){n._recursivelyAnimateChildrenIn(e,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),o),n._isSingleParent()&&o-1===i?(n.clusterShow(),n._recursivelyRemoveChildrenFromMap(e,t,o)):n.clusterHide(),n._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,o){this._recursively(o,this._group._map.getMinZoom()-1,t,(function(i){if(t!==i._zoom)for(var n=i._markers.length-1;n>=0;n--){var a=i._markers[n];o.contains(a._latlng)&&(e&&(a._backupLatlng=a.getLatLng(),a.setLatLng(e),a.clusterHide&&a.clusterHide()),i._group._featureGroup.addLayer(a))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var o=this._markers[t];o._backupLatlng&&(o.setLatLng(o._backupLatlng),delete o._backupLatlng)}if(e-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,o,i){var n,a;this._recursively(e,t-1,o-1,(function(e){for(a=e._markers.length-1;a>=0;a--)n=e._markers[a],i&&i.contains(n._latlng)||(e._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())}),(function(e){for(a=e._childClusters.length-1;a>=0;a--)n=e._childClusters[a],i&&i.contains(n._latlng)||(e._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())}))},_recursively:function(e,t,o,i,n){var a,r,s=this._childClusters,l=this._zoom;if(t<=l&&(i&&i(this),n&&l===o&&n(this)),l<t||l<o)for(a=s.length-1;a>=0;a--)(r=s[a])._boundsNeedUpdate&&r._recalculateBounds(),e.intersects(r._bounds)&&r._recursively(e,t,o,i,n)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var o=this._getCoord(t.x),i=this._getCoord(t.y),n=this._grid,a=n[i]=n[i]||{},r=a[o]=a[o]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,r.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var o,i,n=this._getCoord(t.x),a=this._getCoord(t.y),r=this._grid,s=r[a]=r[a]||{},l=s[n]=s[n]||[];for(delete this._objectPoint[L.Util.stamp(e)],o=0,i=l.length;o<i;o++)if(l[o]===e)return l.splice(o,1),1===i&&delete s[n],!0},eachObject:function(e,t){var o,i,n,a,r,s,l=this._grid;for(o in l)for(i in r=l[o])for(n=0,a=(s=r[i]).length;n<a;n++)e.call(t,s[n])&&(n--,a--)},getNearObject:function(e){var t,o,i,n,a,r,s,l,d=this._getCoord(e.x),u=this._getCoord(e.y),c=this._objectPoint,h=this._sqCellSize,g=null;for(t=u-1;t<=u+1;t++)if(n=this._grid[t])for(o=d-1;o<=d+1;o++)if(a=n[o])for(i=0,r=a.length;i<r;i++)s=a[i],((l=this._sqDist(c[L.Util.stamp(s)],e))<h||l<=h&&null===g)&&(h=l,g=s);return g},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var o=t.x-e.x,i=t.y-e.y;return o*o+i*i}},L.QuickHull={getDistant:function(e,t){return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+(t[1].lat-t[0].lat)*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var o,i,n,a=0,r=null,s=[];for(o=t.length-1;o>=0;o--)(n=this.getDistant(i=t[o],e))>0&&(s.push(i),n>a&&(a=n,r=i));return{maxPoint:r,newPoints:s}},buildConvexHull:function(e,t){var o=[],i=this.findMostDistantPointFromBaseLine(e,t);return i.maxPoint?o=(o=o.concat(this.buildConvexHull([e[0],i.maxPoint],i.newPoints))).concat(this.buildConvexHull([i.maxPoint,e[1]],i.newPoints)):[e[0]]},getConvexHull:function(e){var t,o=!1,i=!1,n=!1,a=!1,r=null,s=null,l=null,d=null,u=null,c=null;for(t=e.length-1;t>=0;t--){var h=e[t];(!1===o||h.lat>o)&&(r=h,o=h.lat),(!1===i||h.lat<i)&&(s=h,i=h.lat),(!1===n||h.lng>n)&&(l=h,n=h.lng),(!1===a||h.lng<a)&&(d=h,a=h.lng)}return i!==o?(c=s,u=r):(c=d,u=l),[].concat(this.buildConvexHull([c,u],e),this.buildConvexHull([u,c],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,o=this.getAllChildMarkers(),i=[];for(t=o.length-1;t>=0;t--)e=o[t].getLatLng(),i.push(e);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),o=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,o):(o.y+=10,e=this._generatePointsCircle(t.length,o)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var o,i,n=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,a=this._2PI/e,r=[];for(n=Math.max(n,35),r.length=e,o=0;o<e;o++)i=this._circleStartAngle+o*a,r[o]=new L.Point(t.x+n*Math.cos(i),t.y+n*Math.sin(i))._round();return r},_generatePointsSpiral:function(e,t){var o,i=this._group.options.spiderfyDistanceMultiplier,n=i*this._spiralLengthStart,a=i*this._spiralFootSeparation,r=i*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=e,o=e;o>=0;o--)o<e&&(l[o]=new L.Point(t.x+n*Math.cos(s),t.y+n*Math.sin(s))._round()),n+=r/(s+=a/n+5e-4*o);return l},_noanimationUnspiderfy:function(){var e,t,o=this._group,i=o._map,n=o._featureGroup,a=this.getAllChildMarkers(null,!0);for(o._ignoreMove=!0,this.setOpacity(1),t=a.length-1;t>=0;t--)n.removeLayer(e=a[t]),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(i.removeLayer(e._spiderLeg),delete e._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:a}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var o,i,n,a,r=this._group,s=r._map,l=r._featureGroup,d=this._group.options.spiderLegPolylineOptions;for(r._ignoreMove=!0,o=0;o<e.length;o++)a=s.layerPointToLatLng(t[o]),i=e[o],n=new L.Polyline([this._latlng,a],d),s.addLayer(n),i._spiderLeg=n,i._preSpiderfyLatlng=i._latlng,i.setLatLng(a),i.setZIndexOffset&&i.setZIndexOffset(1e6),l.addLayer(i);this.setOpacity(.3),r._ignoreMove=!1,r.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var o,i,n,a,r,s,l=this,d=this._group,u=d._map,c=d._featureGroup,h=this._latlng,g=u.latLngToLayerPoint(h),m=L.Path.SVG,p=L.extend({},this._group.options.spiderLegPolylineOptions),_=p.opacity;for(void 0===_&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(p.opacity=0,p.className=(p.className||"")+" leaflet-cluster-spider-leg"):p.opacity=_,d._ignoreMove=!0,o=0;o<e.length;o++)i=e[o],s=u.layerPointToLatLng(t[o]),n=new L.Polyline([h,s],p),u.addLayer(n),i._spiderLeg=n,m&&(r=(a=n._path).getTotalLength()+.1,a.style.strokeDasharray=r,a.style.strokeDashoffset=r),i.setZIndexOffset&&i.setZIndexOffset(1e6),i.clusterHide&&i.clusterHide(),c.addLayer(i),i._setPos&&i._setPos(g);for(d._forceLayout(),d._animationStart(),o=e.length-1;o>=0;o--)s=u.layerPointToLatLng(t[o]),(i=e[o])._preSpiderfyLatlng=i._latlng,i.setLatLng(s),i.clusterShow&&i.clusterShow(),m&&((a=(n=i._spiderLeg)._path).style.strokeDashoffset=0,n.setStyle({opacity:_}));this.setOpacity(.3),d._ignoreMove=!1,setTimeout((function(){d._animationEnd(),d.fire("spiderfied",{cluster:l,markers:e})}),200)},_animationUnspiderfy:function(e){var t,o,i,n,a,r,s=this,l=this._group,d=l._map,u=l._featureGroup,c=e?d._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):d.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),g=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),o=h.length-1;o>=0;o--)(t=h[o])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,r=!0,t._setPos&&(t._setPos(c),r=!1),t.clusterHide&&(t.clusterHide(),r=!1),r&&u.removeLayer(t),g&&(a=(n=(i=t._spiderLeg)._path).getTotalLength()+.1,n.style.strokeDashoffset=a,i.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout((function(){var e=0;for(o=h.length-1;o>=0;o--)(t=h[o])._spiderLeg&&e++;for(o=h.length-1;o>=0;o--)(t=h[o])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&u.removeLayer(t),d.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:h})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,o;for(t in e)for(o=e[t].__parent;o;)o._iconNeedsUpdate=!0,o=o.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,o;for(t in e)this.hasLayer(o=e[t])&&o.setIcon(this._overrideMarkerIcon(o))}}),L.Marker.include({refreshIconOptions:function(e,t){var o=this.options.icon;return L.setOptions(o,e),this.setIcon(o),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=o}(t)},LboF:function(e,t,o){"use strict";var i,n=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(i){o=null}e[t]=o}return e[t]}}(),a=[];function r(e){for(var t=-1,o=0;o<a.length;o++)if(a[o].identifier===e){t=o;break}return t}function s(e,t){for(var o={},i=[],n=0;n<e.length;n++){var s=e[n],l=t.base?s[0]+t.base:s[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var c=r(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==c?(a[c].references++,a[c].updater(h)):a.push({identifier:u,updater:p(h,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=o.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=n(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function c(e,t,o,i){var n=o?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var a=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function h(e,t,o){var i=o.css,n=o.media,a=o.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var g=null,m=0;function p(e,t){var o,i,n;if(t.singleton){var a=m++;o=g||(g=l(t)),i=c.bind(null,o,a,!1),n=c.bind(null,o,a,!0)}else o=l(t),i=h.bind(null,o,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var o=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<o.length;i++){var n=r(o[i]);a[n].references--}for(var l=s(e,t),d=0;d<o.length;d++){var u=r(o[d]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}o=l}}}},MWin:function(e,t,o){"use strict";o.r(t);var i=o("OwhE"),n=o("aceb"),a=o("z+eI"),r=o("DKVz"),s=o("vTDv"),l=o("fXoL"),d=o("4R65");o("ufYB");let u=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.d]]}),e})();var c=o("tyNb");let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-maps"]],decls:1,vars:0,template:function(e,t){1&e&&l["\u0275\u0275element"](0,"router-outlet")},directives:[c.h],encapsulation:2}),e})();var g,m,p=o("mrSG"),_=(o("JXP8"),o("lcx6")),f=o.n(_),v=o("2Vo4"),C=o("VRyK"),y=o("Cfvw");o("tl+D"),function(e){e.isDistrictHealthStats=function(e){return"district_health_stats"===e._id}}(g||(g={})),function(e){e.isDistrictCensus=function(e){return"district_stats_2011"===e._id}}(m||(m={}));let L=(()=>{class e{constructor(){this.attribution='\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',this.attributionWM='\xa9 <a href="https://www.openstreetmap.org/copyright">Wikimedia Map</a> contributors',this.tileLayerPng="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",this.tileLayerWMPng="http://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",this.tileLayerOptions={attribution:this.attribution,detectRetina:!1,maxNativeZoom:18,maxZoom:18,minZoom:0,noWrap:!1,opacity:1,subdomains:"abc",tms:!1},this.openStreetMaps=d.tileLayer(this.tileLayerPng,this.tileLayerOptions),this.wikimediaMaps=d.tileLayer(this.tileLayerWMPng,Object.assign(Object.assign({},this.tileLayerOptions),{attribution:this.attributionWM})),this.fullscreenControl_=d.control.fullscreen({position:"topleft",title:"Enter Fullscreen",titleCancel:"Exit Fullscreen",content:"",forceSeparateButton:!0,forcePseudoFullscreen:!0,fullscreenElement:!1}),this.layersControl_={baseLayers:{"OpenStreet Maps":this.openStreetMaps,"Wikimedia Maps":this.wikimediaMaps}}}get fullScreenControl(){return this.fullscreenControl_}get baseLayers(){return Object.assign({},this.layersControl_)}getDefaultMarker(e){return d.marker({lng:e[0],lat:e[1]},{icon:d.icon({iconSize:[26,42],iconAnchor:[13,42],iconUrl:"assets/img/markers/marker-icon.png",iconRetinaUrl:"assets/img/markers/marker-icon-2x.png",shadowUrl:"assets/img/markers/marker-shadow.png"})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();o("KqfI");var b=o("vkgz"),S=o("JSgb"),M=o("l6RW");let R=(()=>{class e{constructor(e){this.dbService=e,this.spatialDB=S.b.spatial,this.instance(),this.remoteLogin()}instance(){return this.dbService.instance(this.spatialDB)}remoteSync(){return this.dbService.remoteSync(this.spatialDB)}remoteLogin(){return this.dbService.remoteLogin(this.spatialDB)}getChangeListener(){return this.dbService.getChangeListener(this.spatialDB)}get(e){return this.dbService.get(this.spatialDB,e)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](M.a))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),G=(()=>{class e{constructor(e){this.spatialService=e}getAndCache(e){return Object(y.a)(this.spatialService.get(e)).pipe(Object(b.a)(e=>Object(p.a)(this,void 0,void 0,(function*(){var t,o,i;try{yield null===(o=null===(t=null==this?void 0:this.spatialService)||void 0===t?void 0:t.instance())||void 0===o?void 0:o.get(e._id)}catch(n){e&&delete e._rev,yield null===(i=this.spatialService.instance())||void 0===i?void 0:i.put(e)}}))))}getCacheDistrictWiseCensus(){return this.getAndCache("district_stats_2011")}getCacheDistrictHealthStats(){return this.getAndCache("district_health_stats")}getCacheAreaWards(e){return this.getAndCache(`wards_${e}`)}getCacheAreaStats(e){return this.getAndCache(`${e}_stats`)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](R))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=o("lLtB"),P=o("ofXK");let x=(()=>{class e{constructor(e){this.theme=e}ngOnInit(){this.themeSubscription=this.theme.getJsTheme().subscribe(e=>{var t,o;const i=(null===(o=null===(t=e)||void 0===t?void 0:t.variables)||void 0===o?void 0:o.chartjs)||null;this.data={labels:this.labels,datasets:this.dataSets},this.options={maintainAspectRatio:!0,responsive:!0,legend:{labels:{fontColor:i.textColor}},scales:{xAxes:[{gridLines:{display:!1,color:i.axisLineColor},ticks:{fontColor:i.textColor}}],yAxes:[{gridLines:{display:!0,color:i.axisLineColor},ticks:{fontColor:i.textColor}}]}}})}ngOnDestroy(){this.themeSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](n.Cb))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-district-bar"]],inputs:{dataSets:"dataSets",labels:"labels"},decls:1,vars:2,consts:[["type","bar",3,"data","options"]],template:function(e,t){1&e&&l["\u0275\u0275element"](0,"chart",0),2&e&&l["\u0275\u0275property"]("data",t.data)("options",t.options)},directives:[a.ChartComponent],encapsulation:2}),e})();const w=function(e){return[e]};function O(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275text"](2,"+ve Sero Prevalence Ranking"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"nb-card-body"),l["\u0275\u0275element"](4,"ngx-district-bar",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("dataSets",l["\u0275\u0275pureFunction1"](2,w,e.districtPcrDataSets[0]))("labels",e.districtNamesSero)}}function A(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275text"](2,"+ve PCR Result Ratio Ranking"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"nb-card-body"),l["\u0275\u0275element"](4,"ngx-district-bar",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("dataSets",l["\u0275\u0275pureFunction1"](2,w,e.districtPcrDataSets[1]))("labels",e.districtNamesRatio)}}let E=(()=>{class e{constructor(e,t,o,i){this.mapUtilsService=e,this.regionService=t,this.returneeService=o,this.themeService=i,this.title="National Covid Map",this.mapLayerDistrict={bucket:"gov_districts",label:"Districts"},this.mapLayerProvince={bucket:"gov_provinces",label:"Provinces"},this.mapLayerRoads={bucket:"roads_major",label:"Major Roads"},this.districtNameValPairsSero=[],this.districtNameValPairsRatio=[],this.districtPcrDataSets=[{label:"",data:[],backgroundColor:""},{label:"",data:[],backgroundColor:""}],this.quadDataCounter=new v.a(0),this.loading=!0,this.mapReady=new v.a(!1),this.options={layers:[this.mapUtilsService.openStreetMaps],zoom:7,crs:d.CRS.EPSG3857,center:d.latLng({lat:27.700769,lng:85.30014}),zoomControl:!0,preferCanvas:!1},this.geoJsonLayerOptions={onEachFeature:(e,t)=>{const o=this.map;t.on({click:e=>{o.fitBounds(e.target.getBounds())}})},style:{color:"#33A8FF",weight:4,opacity:.65}},this.readyToRenderChart=!1,this.themeSubscription=this.themeService.getJsTheme().subscribe(e=>{var t,o,i,a;this.districtPcrDataSets=[Object.assign(Object.assign({},this.districtPcrDataSets[0]),{backgroundColor:n.A.hexToRgbA(null===(o=null===(t=e)||void 0===t?void 0:t.variables)||void 0===o?void 0:o.primaryLight,.8)}),Object.assign(Object.assign({},this.districtPcrDataSets[1]),{backgroundColor:n.A.hexToRgbA(null===(a=null===(i=e)||void 0===i?void 0:i.variables)||void 0===a?void 0:a.infoLight,.8)})]})}ngOnInit(){this.layersControl=Object.assign(Object.assign({},this.mapUtilsService.baseLayers),{overlays:{}}),this.fetchLabelFeatures(),this.receiveAndSetStats()}fetchLabelFeatures(){return Object(p.a)(this,void 0,void 0,(function*(){this.setLayerFromBucket(this.mapLayerDistrict),this.setLayerFromBucket(this.mapLayerProvince,{color:"#043EB9",weight:5,opacity:.65}),this.setLayerFromBucket(this.mapLayerRoads,{color:"#2E70E4",weight:3,opacity:.65})}))}setLayerFromBucket(e,t){this.regionService.getAndCache(e.bucket).subscribe(o=>{this.layersControl.overlays[e.label]=d.geoJSON(o,{style:t}),e.bucket===this.mapLayerDistrict.bucket&&(this.districtsGeoJson=o,this.layersControl.overlays.Districts=d.geoJSON(o,this.geoJsonLayerOptions),this.raiseQuadDataCount())})}raiseQuadDataCount(){this.quadDataCounter.next(this.quadDataCounter.getValue()+1)}receiveAndSetStats(){return Object(p.a)(this,void 0,void 0,(function*(){Object(C.a)(this.regionService.getCacheDistrictHealthStats(),this.regionService.getCacheDistrictWiseCensus(),Object(y.a)(this.returneeService.getAllWards())).subscribe(e=>{g.isDistrictHealthStats(e)?(this.districtsHealthStats=e,this.raiseQuadDataCount()):m.isDistrictCensus(e)?(this.districtPopulation=e,this.raiseQuadDataCount()):(this.returneeStats=e,this.raiseQuadDataCount())}),this.quadDataCounter.subscribe(e=>{4===e&&this.setStats()})}))}findByNameFromReturneeStats(e){var t;return null===(t=this.returneeStats)||void 0===t?void 0:t.find(t=>{var o,i,n;return null===(i=null===(o=e)||void 0===o?void 0:o.toLowerCase())||void 0===i?void 0:i.startsWith(null===(n=t[2])||void 0===n?void 0:n.toLowerCase())})}findByNameFromCensusStats(e){var t,o;return null===(o=null===(t=this.districtPopulation)||void 0===t?void 0:t.values)||void 0===o?void 0:o.find(t=>{var o,i,n,a;return null===(i=null===(o=e)||void 0===o?void 0:o.toLowerCase())||void 0===i?void 0:i.startsWith(null===(a=null===(n=t)||void 0===n?void 0:n.district)||void 0===a?void 0:a.toLowerCase())})}setStats(){this.markerClusterGroup=d.markerClusterGroup(),this.featureGroup=d.featureGroup(),this.featureGroup.addLayer(this.markerClusterGroup),this.districtsHealthStats.values.forEach(e=>{const t=this.districtsGeoJson.features.find(t=>e.district.toUpperCase().startsWith(t.properties.FIRST_DIST));if(!t)return;const o=f()(t.geometry.coordinates),i=this.mapUtilsService.getDefaultMarker(o);this.setPopup(i,e),this.markerClusterGroup.addLayer(i)}),this.layersControl.overlays.Stats=this.markerClusterGroup,this.sortAndAddSetRankingChartData(),this.readyToRenderChart=!0,this.mapReady.subscribe(e=>{e&&(this.featureGroup.addTo(this.map),this.loading=!1)})}sortAndAddSetRankingChartData(){const e=(e,t)=>t[1]-e[1],t=e=>e[0],o=e=>e[1];this.districtNameValPairsSero.sort(e),this.districtNameValPairsRatio.sort(e),this.districtNamesSero=this.districtNameValPairsSero.map(t),this.districtPcrDataSets[0].data=this.districtNameValPairsSero.map(o),this.districtNamesRatio=this.districtNameValPairsRatio.map(t),this.districtPcrDataSets[1].data=this.districtNameValPairsRatio.map(o)}appendSeroRankingChartData(e,t){this.districtNameValPairsSero.push([e,t])}appendRatioRankingChartData(e,t){this.districtNameValPairsRatio.push([e,t])}setPopup(e,t){const o=this.findByNameFromReturneeStats(t.district),i=this.findByNameFromCensusStats(t.district),n=o?o[5]:0,a=i?i.total:1e5,r=t.total_swab_collection,s=t.total_rdt_tests,l=t.negatives,u=t.negatives_1,c=(n/a).toFixed(4),h=(s/a).toFixed(4),g=((s-u)/s).toFixed(4),m=(r/a).toFixed(4),p=(r-l)/r,_=p.toFixed(4),f=(r-l)/a,v=f.toFixed(4);0===f||Number.isNaN(f)||this.appendSeroRankingChartData(t.district,100*f),0===p||Number.isNaN(p)||this.appendRatioRankingChartData(t.district,100*p);const C=d.popup({maxWidth:100});C.setContent(`\n      <div>\n      <style type="text/css">\n        .tg  {border-collapse:collapse;border-spacing:0;}\n        .tg td {\n          border-color:black;\n          border-style:solid;\n          border-width:1px;\n          font-family:Arial, sans-serif;\n          font-size:12px;\n          overflow:hidden;\n          padding:10px 8px;\n          word-break:normal;\n        }\n        .tg th {\n          border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n          font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;\n        }\n        .tg .tg-x5oc{background-color:#fe996b;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-0cjc{background-color:#67fd9a;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-266k{background-color:#9b9b9b;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-d52n{background-color:#32cb00;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-7od5{background-color:#9aff99;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-y698{background-color:#efefef;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-tw5s{background-color:#fe0000;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-pidv{background-color:#ffce93;border-color:inherit;text-align:left;vertical-align:top}\n      </style>\n      <table class="tg">\n        <thead>\n          <tr>\n            <th class="tg-y698" colspan="2">District</th>\n            <th class="tg-y698" colspan="3">${t.district}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td class="tg-0pky" colspan="2">+ve Sero Prev.</td>\n            <td class="tg-0pky" colspan="3">${v}</td>\n          </tr>\n          <tr>\n            <td class="tg-y698" colspan="2">PCR coverage</td>\n            <td class="tg-y698" colspan="3">${m}</td>\n          </tr>\n          <tr>\n            <td class="tg-0pky" colspan="2">PCR +ve ratio</td>\n            <td class="tg-0pky" colspan="3">${_}</td>\n          </tr>\n          <tr>\n            <td class="tg-y698" colspan="2">RDT coverage</td>\n            <td class="tg-y698" colspan="3">${h}</td>\n          </tr>\n          <tr>\n            <td class="tg-0pky" colspan="2">RDT +ve ratio</td>\n            <td class="tg-0pky" colspan="3">${g}</td>\n          </tr>\n          <tr>\n            <td class="tg-0pky" colspan="2">Returnee ratio</td>\n            <td class="tg-0pky" colspan="3">${c}</td>\n          </tr>\n          <tr>\n            <td class="tg-266k" colspan="2">Returnee</td>\n            <td class="tg-266k">Test</td>\n            <td class="tg-266k">PCR</td>\n            <td class="tg-266k">RDT</td>\n          </tr>\n          <tr>\n            <td class="tg-pidv">Isolated</td>\n            <td class="tg-pidv">${t.isolated_total}</td>\n            <td class="tg-x5oc">Positive</td>\n            <td class="tg-x5oc">${t.total_positives}</td>\n            <td class="tg-x5oc">${t.positives}</td>\n          </tr>\n          <tr>\n            <td class="tg-pidv">Quarantined</td>\n            <td class="tg-pidv">${t.quarantined_total}</td>\n            <td class="tg-0cjc">Negative</td>\n            <td class="tg-0cjc">${l}</td>\n            <td class="tg-0cjc">${u}</td>\n          </tr>\n          <tr>\n            <td class="tg-y698">Total</td>\n            <td class="tg-y698">${n}</td>\n            <td class="tg-y698"> </td>\n            <td class="tg-y698">${r}</td>\n            <td class="tg-y698">${s}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>`),e.bindPopup(C)}ngOnDestroy(){this.map.remove(),this.themeSubscription.unsubscribe()}onMapReady(e){this.map=e,this.mapUtilsService.fullScreenControl.addTo(this.map),this.mapReady.next(!0),setTimeout(()=>{this.map.invalidateSize()},0)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](L),l["\u0275\u0275directiveInject"](G),l["\u0275\u0275directiveInject"](k.a),l["\u0275\u0275directiveInject"](n.Cb))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-leaflet"]],decls:8,vars:7,consts:[["leaflet","",3,"leafletOptions","leafletLayersControl","leafletMapReady"],[4,"ngIf"],[3,"dataSets","labels"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"titlecase"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"nb-card-body"),l["\u0275\u0275elementStart"](5,"div",0),l["\u0275\u0275listener"]("leafletMapReady",(function(e){return t.onMapReady(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,O,5,4,"nb-card",1),l["\u0275\u0275template"](7,A,5,4,"nb-card",1)),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("",l["\u0275\u0275pipeBind1"](3,5,t.title)," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("leafletOptions",t.options)("leafletLayersControl",t.layersControl),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.readyToRenderChart),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.readyToRenderChart))},directives:[n.u,n.w,n.t,i.a,i.c,P.m,x],pipes:[P.t],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-default   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-default   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-default   [_nghost-%COMP%]     .leaflet-container{width:100%;height:60vh}.nb-theme-default   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-dark   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-container{width:100%;height:60vh}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-container{width:100%;height:60vh}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-corporate   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-container{width:100%;height:60vh}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}"]}),e})();var D=o("itXk"),N=o("GJmQ"),T=o("MT78"),B=o("tk/3");let F=(()=>{class e{constructor(e,t){this.theme=e,this.http=t,this.latlong={},this.max=-1/0,this.min=1/0,this.alive=!0,Object(D.a)([this.http.get("assets/map/world.json"),this.theme.getJsTheme()]).pipe(Object(N.a)(()=>this.alive)).subscribe(([e,t])=>{Object(T.registerMap)("world",e);const o=t.variables;this.bubbleTheme=t.variables.bubbleMap,this.geoColors=[o.primary,o.info,o.success,o.warning,o.danger],this.latlong={AD:{latitude:42.5,longitude:1.5},AE:{latitude:24,longitude:54},AF:{latitude:33,longitude:65},AG:{latitude:17.05,longitude:-61.8},AI:{latitude:18.25,longitude:-63.1667},AL:{latitude:41,longitude:20},AM:{latitude:40,longitude:45},AN:{latitude:12.25,longitude:-68.75},AO:{latitude:-12.5,longitude:18.5},AP:{latitude:35,longitude:105},AQ:{latitude:-90,longitude:0},AR:{latitude:-34,longitude:-64},AS:{latitude:-14.3333,longitude:-170},AT:{latitude:47.3333,longitude:13.3333},AU:{latitude:-27,longitude:133},AW:{latitude:12.5,longitude:-69.9667},AZ:{latitude:40.5,longitude:47.5},BA:{latitude:44,longitude:18},BB:{latitude:13.1667,longitude:-59.5333},BD:{latitude:24,longitude:90},BE:{latitude:50.8333,longitude:4},BF:{latitude:13,longitude:-2},BG:{latitude:43,longitude:25},BH:{latitude:26,longitude:50.55},BI:{latitude:-3.5,longitude:30},BJ:{latitude:9.5,longitude:2.25},BM:{latitude:32.3333,longitude:-64.75},BN:{latitude:4.5,longitude:114.6667},BO:{latitude:-17,longitude:-65},BR:{latitude:-10,longitude:-55},BS:{latitude:24.25,longitude:-76},BT:{latitude:27.5,longitude:90.5},BV:{latitude:-54.4333,longitude:3.4},BW:{latitude:-22,longitude:24},BY:{latitude:53,longitude:28},BZ:{latitude:17.25,longitude:-88.75},CA:{latitude:54,longitude:-100},CC:{latitude:-12.5,longitude:96.8333},CD:{latitude:0,longitude:25},CF:{latitude:7,longitude:21},CG:{latitude:-1,longitude:15},CH:{latitude:47,longitude:8},CI:{latitude:8,longitude:-5},CK:{latitude:-21.2333,longitude:-159.7667},CL:{latitude:-30,longitude:-71},CM:{latitude:6,longitude:12},CN:{latitude:35,longitude:105},CO:{latitude:4,longitude:-72},CR:{latitude:10,longitude:-84},CU:{latitude:21.5,longitude:-80},CV:{latitude:16,longitude:-24},CX:{latitude:-10.5,longitude:105.6667},CY:{latitude:35,longitude:33},CZ:{latitude:49.75,longitude:15.5},DE:{latitude:51,longitude:9},DJ:{latitude:11.5,longitude:43},DK:{latitude:56,longitude:10},DM:{latitude:15.4167,longitude:-61.3333},DO:{latitude:19,longitude:-70.6667},DZ:{latitude:28,longitude:3},EC:{latitude:-2,longitude:-77.5},EE:{latitude:59,longitude:26},EG:{latitude:27,longitude:30},EH:{latitude:24.5,longitude:-13},ER:{latitude:15,longitude:39},ES:{latitude:40,longitude:-4},ET:{latitude:8,longitude:38},EU:{latitude:47,longitude:8},FI:{latitude:62,longitude:26},FJ:{latitude:-18,longitude:175},FK:{latitude:-51.75,longitude:-59},FM:{latitude:6.9167,longitude:158.25},FO:{latitude:62,longitude:-7},FR:{latitude:46,longitude:2},GA:{latitude:-1,longitude:11.75},GB:{latitude:54,longitude:-2},GD:{latitude:12.1167,longitude:-61.6667},GE:{latitude:42,longitude:43.5},GF:{latitude:4,longitude:-53},GH:{latitude:8,longitude:-2},GI:{latitude:36.1833,longitude:-5.3667},GL:{latitude:72,longitude:-40},GM:{latitude:13.4667,longitude:-16.5667},GN:{latitude:11,longitude:-10},GP:{latitude:16.25,longitude:-61.5833},GQ:{latitude:2,longitude:10},GR:{latitude:39,longitude:22},GS:{latitude:-54.5,longitude:-37},GT:{latitude:15.5,longitude:-90.25},GU:{latitude:13.4667,longitude:144.7833},GW:{latitude:12,longitude:-15},GY:{latitude:5,longitude:-59},HK:{latitude:22.25,longitude:114.1667},HM:{latitude:-53.1,longitude:72.5167},HN:{latitude:15,longitude:-86.5},HR:{latitude:45.1667,longitude:15.5},HT:{latitude:19,longitude:-72.4167},HU:{latitude:47,longitude:20},ID:{latitude:-5,longitude:120},IE:{latitude:53,longitude:-8},IL:{latitude:31.5,longitude:34.75},IN:{latitude:20,longitude:77},IO:{latitude:-6,longitude:71.5},IQ:{latitude:33,longitude:44},IR:{latitude:32,longitude:53},IS:{latitude:65,longitude:-18},IT:{latitude:42.8333,longitude:12.8333},JM:{latitude:18.25,longitude:-77.5},JO:{latitude:31,longitude:36},JP:{latitude:36,longitude:138},KE:{latitude:1,longitude:38},KG:{latitude:41,longitude:75},KH:{latitude:13,longitude:105},KI:{latitude:1.4167,longitude:173},KM:{latitude:-12.1667,longitude:44.25},KN:{latitude:17.3333,longitude:-62.75},KP:{latitude:40,longitude:127},KR:{latitude:37,longitude:127.5},KW:{latitude:29.3375,longitude:47.6581},KY:{latitude:19.5,longitude:-80.5},KZ:{latitude:48,longitude:68},LA:{latitude:18,longitude:105},LB:{latitude:33.8333,longitude:35.8333},LC:{latitude:13.8833,longitude:-61.1333},LI:{latitude:47.1667,longitude:9.5333},LK:{latitude:7,longitude:81},LR:{latitude:6.5,longitude:-9.5},LS:{latitude:-29.5,longitude:28.5},LT:{latitude:55,longitude:24},LU:{latitude:49.75,longitude:6},LV:{latitude:57,longitude:25},LY:{latitude:25,longitude:17},MA:{latitude:32,longitude:-5},MC:{latitude:43.7333,longitude:7.4},MD:{latitude:47,longitude:29},ME:{latitude:42.5,longitude:19.4},MG:{latitude:-20,longitude:47},MH:{latitude:9,longitude:168},MK:{latitude:41.8333,longitude:22},ML:{latitude:17,longitude:-4},MM:{latitude:22,longitude:98},MN:{latitude:46,longitude:105},MO:{latitude:22.1667,longitude:113.55},MP:{latitude:15.2,longitude:145.75},MQ:{latitude:14.6667,longitude:-61},MR:{latitude:20,longitude:-12},MS:{latitude:16.75,longitude:-62.2},MT:{latitude:35.8333,longitude:14.5833},MU:{latitude:-20.2833,longitude:57.55},MV:{latitude:3.25,longitude:73},MW:{latitude:-13.5,longitude:34},MX:{latitude:23,longitude:-102},MY:{latitude:2.5,longitude:112.5},MZ:{latitude:-18.25,longitude:35},NA:{latitude:-22,longitude:17},NC:{latitude:-21.5,longitude:165.5},NE:{latitude:16,longitude:8},NF:{latitude:-29.0333,longitude:167.95},NG:{latitude:10,longitude:8},NI:{latitude:13,longitude:-85},NL:{latitude:52.5,longitude:5.75},NO:{latitude:62,longitude:10},NP:{latitude:28,longitude:84},NR:{latitude:-.5333,longitude:166.9167},NU:{latitude:-19.0333,longitude:-169.8667},NZ:{latitude:-41,longitude:174},OM:{latitude:21,longitude:57},PA:{latitude:9,longitude:-80},PE:{latitude:-10,longitude:-76},PF:{latitude:-15,longitude:-140},PG:{latitude:-6,longitude:147},PH:{latitude:13,longitude:122},PK:{latitude:30,longitude:70},PL:{latitude:52,longitude:20},PM:{latitude:46.8333,longitude:-56.3333},PR:{latitude:18.25,longitude:-66.5},PS:{latitude:32,longitude:35.25},PT:{latitude:39.5,longitude:-8},PW:{latitude:7.5,longitude:134.5},PY:{latitude:-23,longitude:-58},QA:{latitude:25.5,longitude:51.25},RE:{latitude:-21.1,longitude:55.6},RO:{latitude:46,longitude:25},RS:{latitude:44,longitude:21},RU:{latitude:60,longitude:100},RW:{latitude:-2,longitude:30},SA:{latitude:25,longitude:45},SB:{latitude:-8,longitude:159},SC:{latitude:-4.5833,longitude:55.6667},SD:{latitude:15,longitude:30},SE:{latitude:62,longitude:15},SG:{latitude:1.3667,longitude:103.8},SH:{latitude:-15.9333,longitude:-5.7},SI:{latitude:46,longitude:15},SJ:{latitude:78,longitude:20},SK:{latitude:48.6667,longitude:19.5},SL:{latitude:8.5,longitude:-11.5},SM:{latitude:43.7667,longitude:12.4167},SN:{latitude:14,longitude:-14},SO:{latitude:10,longitude:49},SR:{latitude:4,longitude:-56},ST:{latitude:1,longitude:7},SV:{latitude:13.8333,longitude:-88.9167},SY:{latitude:35,longitude:38},SZ:{latitude:-26.5,longitude:31.5},TC:{latitude:21.75,longitude:-71.5833},TD:{latitude:15,longitude:19},TF:{latitude:-43,longitude:67},TG:{latitude:8,longitude:1.1667},TH:{latitude:15,longitude:100},TJ:{latitude:39,longitude:71},TK:{latitude:-9,longitude:-172},TM:{latitude:40,longitude:60},TN:{latitude:34,longitude:9},TO:{latitude:-20,longitude:-175},TR:{latitude:39,longitude:35},TT:{latitude:11,longitude:-61},TV:{latitude:-8,longitude:178},TW:{latitude:23.5,longitude:121},TZ:{latitude:-6,longitude:35},UA:{latitude:49,longitude:32},UG:{latitude:1,longitude:32},UM:{latitude:19.2833,longitude:166.6},US:{latitude:38,longitude:-97},UY:{latitude:-33,longitude:-56},UZ:{latitude:41,longitude:64},VA:{latitude:41.9,longitude:12.45},VC:{latitude:13.25,longitude:-61.2},VE:{latitude:8,longitude:-66},VG:{latitude:18.5,longitude:-64.5},VI:{latitude:18.3333,longitude:-64.8333},VN:{latitude:16,longitude:106},VU:{latitude:-16,longitude:167},WF:{latitude:-13.3,longitude:-176.2},WS:{latitude:-13.5833,longitude:-172.3333},YE:{latitude:15,longitude:48},YT:{latitude:-12.8333,longitude:45.1667},ZA:{latitude:-29,longitude:24},ZM:{latitude:-15,longitude:30},ZW:{latitude:-20,longitude:30}},this.mapData=[{code:"AF",name:"Afghanistan",value:32358260,color:this.getRandomGeoColor()},{code:"AL",name:"Albania",value:3215988,color:this.getRandomGeoColor()},{code:"DZ",name:"Algeria",value:35980193,color:this.getRandomGeoColor()},{code:"AO",name:"Angola",value:19618432,color:this.getRandomGeoColor()},{code:"AR",name:"Argentina",value:40764561,color:this.getRandomGeoColor()},{code:"AM",name:"Armenia",value:3100236,color:this.getRandomGeoColor()},{code:"AU",name:"Australia",value:22605732,color:this.getRandomGeoColor()},{code:"AT",name:"Austria",value:8413429,color:this.getRandomGeoColor()},{code:"AZ",name:"Azerbaijan",value:9306023,color:this.getRandomGeoColor()},{code:"BH",name:"Bahrain",value:1323535,color:this.getRandomGeoColor()},{code:"BD",name:"Bangladesh",value:150493658,color:this.getRandomGeoColor()},{code:"BY",name:"Belarus",value:9559441,color:this.getRandomGeoColor()},{code:"BE",name:"Belgium",value:10754056,color:this.getRandomGeoColor()},{code:"BJ",name:"Benin",value:9099922,color:this.getRandomGeoColor()},{code:"BT",name:"Bhutan",value:738267,color:this.getRandomGeoColor()},{code:"BO",name:"Bolivia",value:10088108,color:this.getRandomGeoColor()},{code:"BA",name:"Bosnia and Herzegovina",value:3752228,color:this.getRandomGeoColor()},{code:"BW",name:"Botswana",value:2030738,color:this.getRandomGeoColor()},{code:"BR",name:"Brazil",value:196655014,color:this.getRandomGeoColor()},{code:"BN",name:"Brunei",value:405938,color:this.getRandomGeoColor()},{code:"BG",name:"Bulgaria",value:7446135,color:this.getRandomGeoColor()},{code:"BF",name:"Burkina Faso",value:16967845,color:this.getRandomGeoColor()},{code:"BI",name:"Burundi",value:8575172,color:this.getRandomGeoColor()},{code:"KH",name:"Cambodia",value:14305183,color:this.getRandomGeoColor()},{code:"CM",name:"Cameroon",value:20030362,color:this.getRandomGeoColor()},{code:"CA",name:"Canada",value:34349561,color:this.getRandomGeoColor()},{code:"CV",name:"Cape Verde",value:500585,color:this.getRandomGeoColor()},{code:"CF",name:"Central African Rep.",value:4486837,color:this.getRandomGeoColor()},{code:"TD",name:"Chad",value:11525496,color:this.getRandomGeoColor()},{code:"CL",name:"Chile",value:17269525,color:this.getRandomGeoColor()},{code:"CN",name:"China",value:1347565324,color:this.getRandomGeoColor()},{code:"CO",name:"Colombia",value:46927125,color:this.getRandomGeoColor()},{code:"KM",name:"Comoros",value:753943,color:this.getRandomGeoColor()},{code:"CD",name:"Congo, Dem. Rep.",value:67757577,color:this.getRandomGeoColor()},{code:"CG",name:"Congo, Rep.",value:4139748,color:this.getRandomGeoColor()},{code:"CR",name:"Costa Rica",value:4726575,color:this.getRandomGeoColor()},{code:"CI",name:"Cote d'Ivoire",value:20152894,color:this.getRandomGeoColor()},{code:"HR",name:"Croatia",value:4395560,color:this.getRandomGeoColor()},{code:"CU",name:"Cuba",value:11253665,color:this.getRandomGeoColor()},{code:"CY",name:"Cyprus",value:1116564,color:this.getRandomGeoColor()},{code:"CZ",name:"Czech Rep.",value:10534293,color:this.getRandomGeoColor()},{code:"DK",name:"Denmark",value:5572594,color:this.getRandomGeoColor()},{code:"DJ",name:"Djibouti",value:905564,color:this.getRandomGeoColor()},{code:"DO",name:"Dominican Rep.",value:10056181,color:this.getRandomGeoColor()},{code:"EC",name:"Ecuador",value:14666055,color:this.getRandomGeoColor()},{code:"EG",name:"Egypt",value:82536770,color:this.getRandomGeoColor()},{code:"SV",name:"El Salvador",value:6227491,color:this.getRandomGeoColor()},{code:"GQ",name:"Equatorial Guinea",value:720213,color:this.getRandomGeoColor()},{code:"ER",name:"Eritrea",value:5415280,color:this.getRandomGeoColor()},{code:"EE",name:"Estonia",value:1340537,color:this.getRandomGeoColor()},{code:"ET",name:"Ethiopia",value:84734262,color:this.getRandomGeoColor()},{code:"FJ",name:"Fiji",value:868406,color:this.getRandomGeoColor()},{code:"FI",name:"Finland",value:5384770,color:this.getRandomGeoColor()},{code:"FR",name:"France",value:63125894,color:this.getRandomGeoColor()},{code:"GA",name:"Gabon",value:1534262,color:this.getRandomGeoColor()},{code:"GM",name:"Gambia",value:1776103,color:this.getRandomGeoColor()},{code:"GE",name:"Georgia",value:4329026,color:this.getRandomGeoColor()},{code:"DE",name:"Germany",value:82162512,color:this.getRandomGeoColor()},{code:"GH",name:"Ghana",value:24965816,color:this.getRandomGeoColor()},{code:"GR",name:"Greece",value:11390031,color:this.getRandomGeoColor()},{code:"GT",name:"Guatemala",value:14757316,color:this.getRandomGeoColor()},{code:"GN",name:"Guinea",value:10221808,color:this.getRandomGeoColor()},{code:"GW",name:"Guinea-Bissau",value:1547061,color:this.getRandomGeoColor()},{code:"GY",name:"Guyana",value:756040,color:this.getRandomGeoColor()},{code:"HT",name:"Haiti",value:10123787,color:this.getRandomGeoColor()},{code:"HN",name:"Honduras",value:7754687,color:this.getRandomGeoColor()},{code:"HK",name:"Hong Kong, China",value:7122187,color:this.getRandomGeoColor()},{code:"HU",name:"Hungary",value:9966116,color:this.getRandomGeoColor()},{code:"IS",name:"Iceland",value:324366,color:this.getRandomGeoColor()},{code:"IN",name:"India",value:1241491960,color:this.getRandomGeoColor()},{code:"ID",name:"Indonesia",value:242325638,color:this.getRandomGeoColor()},{code:"IR",name:"Iran",value:74798599,color:this.getRandomGeoColor()},{code:"IQ",name:"Iraq",value:32664942,color:this.getRandomGeoColor()},{code:"IE",name:"Ireland",value:4525802,color:this.getRandomGeoColor()},{code:"IL",name:"Israel",value:7562194,color:this.getRandomGeoColor()},{code:"IT",name:"Italy",value:60788694,color:this.getRandomGeoColor()},{code:"JM",name:"Jamaica",value:2751273,color:this.getRandomGeoColor()},{code:"JP",name:"Japan",value:126497241,color:this.getRandomGeoColor()},{code:"JO",name:"Jordan",value:6330169,color:this.getRandomGeoColor()},{code:"KZ",name:"Kazakhstan",value:16206750,color:this.getRandomGeoColor()},{code:"KE",name:"Kenya",value:41609728,color:this.getRandomGeoColor()},{code:"KP",name:"Korea, Dem. Rep.",value:24451285,color:this.getRandomGeoColor()},{code:"KR",name:"Korea, Rep.",value:48391343,color:this.getRandomGeoColor()},{code:"KW",name:"Kuwait",value:2818042,color:this.getRandomGeoColor()},{code:"KG",name:"Kyrgyzstan",value:5392580,color:this.getRandomGeoColor()},{code:"LA",name:"Laos",value:6288037,color:this.getRandomGeoColor()},{code:"LV",name:"Latvia",value:2243142,color:this.getRandomGeoColor()},{code:"LB",name:"Lebanon",value:4259405,color:this.getRandomGeoColor()},{code:"LS",name:"Lesotho",value:2193843,color:this.getRandomGeoColor()},{code:"LR",name:"Liberia",value:4128572,color:this.getRandomGeoColor()},{code:"LY",name:"Libya",value:6422772,color:this.getRandomGeoColor()},{code:"LT",name:"Lithuania",value:3307481,color:this.getRandomGeoColor()},{code:"LU",name:"Luxembourg",value:515941,color:this.getRandomGeoColor()},{code:"MK",name:"Macedonia, FYR",value:2063893,color:this.getRandomGeoColor()},{code:"MG",name:"Madagascar",value:21315135,color:this.getRandomGeoColor()},{code:"MW",name:"Malawi",value:15380888,color:this.getRandomGeoColor()},{code:"MY",name:"Malaysia",value:28859154,color:this.getRandomGeoColor()},{code:"ML",name:"Mali",value:15839538,color:this.getRandomGeoColor()},{code:"MR",name:"Mauritania",value:3541540,color:this.getRandomGeoColor()},{code:"MU",name:"Mauritius",value:1306593,color:this.getRandomGeoColor()},{code:"MX",name:"Mexico",value:114793341,color:this.getRandomGeoColor()},{code:"MD",name:"Moldova",value:3544864,color:this.getRandomGeoColor()},{code:"MN",name:"Mongolia",value:2800114,color:this.getRandomGeoColor()},{code:"ME",name:"Montenegro",value:632261,color:this.getRandomGeoColor()},{code:"MA",name:"Morocco",value:32272974,color:this.getRandomGeoColor()},{code:"MZ",name:"Mozambique",value:23929708,color:this.getRandomGeoColor()},{code:"MM",name:"Myanmar",value:48336763,color:this.getRandomGeoColor()},{code:"NA",name:"Namibia",value:2324004,color:this.getRandomGeoColor()},{code:"NP",name:"Nepal",value:30485798,color:this.getRandomGeoColor()},{code:"NL",name:"Netherlands",value:16664746,color:this.getRandomGeoColor()},{code:"NZ",name:"New Zealand",value:4414509,color:this.getRandomGeoColor()},{code:"NI",name:"Nicaragua",value:5869859,color:this.getRandomGeoColor()},{code:"NE",name:"Niger",value:16068994,color:this.getRandomGeoColor()},{code:"NG",name:"Nigeria",value:162470737,color:this.getRandomGeoColor()},{code:"NO",name:"Norway",value:4924848,color:this.getRandomGeoColor()},{code:"OM",name:"Oman",value:2846145,color:this.getRandomGeoColor()},{code:"PK",name:"Pakistan",value:176745364,color:this.getRandomGeoColor()},{code:"PA",name:"Panama",value:3571185,color:this.getRandomGeoColor()},{code:"PG",name:"Papua New Guinea",value:7013829,color:this.getRandomGeoColor()},{code:"PY",name:"Paraguay",value:6568290,color:this.getRandomGeoColor()},{code:"PE",name:"Peru",value:29399817,color:this.getRandomGeoColor()},{code:"PH",name:"Philippines",value:94852030,color:this.getRandomGeoColor()},{code:"PL",name:"Poland",value:38298949,color:this.getRandomGeoColor()},{code:"PT",name:"Portugal",value:10689663,color:this.getRandomGeoColor()},{code:"PR",name:"Puerto Rico",value:3745526,color:this.getRandomGeoColor()},{code:"QA",name:"Qatar",value:1870041,color:this.getRandomGeoColor()},{code:"RO",name:"Romania",value:21436495,color:this.getRandomGeoColor()},{code:"RU",name:"Russia",value:142835555,color:this.getRandomGeoColor()},{code:"RW",name:"Rwanda",value:10942950,color:this.getRandomGeoColor()},{code:"SA",name:"Saudi Arabia",value:28082541,color:this.getRandomGeoColor()},{code:"SN",name:"Senegal",value:12767556,color:this.getRandomGeoColor()},{code:"RS",name:"Serbia",value:9853969,color:this.getRandomGeoColor()},{code:"SL",name:"Sierra Leone",value:5997486,color:this.getRandomGeoColor()},{code:"SG",name:"Singapore",value:5187933,color:this.getRandomGeoColor()},{code:"SK",name:"Slovak Republic",value:5471502,color:this.getRandomGeoColor()},{code:"SI",name:"Slovenia",value:2035012,color:this.getRandomGeoColor()},{code:"SB",name:"Solomon Islands",value:552267,color:this.getRandomGeoColor()},{code:"SO",name:"Somalia",value:9556873,color:this.getRandomGeoColor()},{code:"ZA",name:"South Africa",value:50459978,color:this.getRandomGeoColor()},{code:"ES",name:"Spain",value:46454895,color:this.getRandomGeoColor()},{code:"LK",name:"Sri Lanka",value:21045394,color:this.getRandomGeoColor()},{code:"SD",name:"Sudan",value:34735288,color:this.getRandomGeoColor()},{code:"SR",name:"Suriname",value:529419,color:this.getRandomGeoColor()},{code:"SZ",name:"Swaziland",value:1203330,color:this.getRandomGeoColor()},{code:"SE",name:"Sweden",value:9440747,color:this.getRandomGeoColor()},{code:"CH",name:"Switzerland",value:7701690,color:this.getRandomGeoColor()},{code:"SY",name:"Syria",value:20766037,color:this.getRandomGeoColor()},{code:"TW",name:"Taiwan",value:23072e3,color:this.getRandomGeoColor()},{code:"TJ",name:"Tajikistan",value:6976958,color:this.getRandomGeoColor()},{code:"TZ",name:"Tanzania",value:46218486,color:this.getRandomGeoColor()},{code:"TH",name:"Thailand",value:69518555,color:this.getRandomGeoColor()},{code:"TG",name:"Togo",value:6154813,color:this.getRandomGeoColor()},{code:"TT",name:"Trinidad and Tobago",value:1346350,color:this.getRandomGeoColor()},{code:"TN",name:"Tunisia",value:10594057,color:this.getRandomGeoColor()},{code:"TR",name:"Turkey",value:73639596,color:this.getRandomGeoColor()},{code:"TM",name:"Turkmenistan",value:5105301,color:this.getRandomGeoColor()},{code:"UG",name:"Uganda",value:34509205,color:this.getRandomGeoColor()},{code:"UA",name:"Ukraine",value:45190180,color:this.getRandomGeoColor()},{code:"AE",name:"United Arab Emirates",value:7890924,color:this.getRandomGeoColor()},{code:"GB",name:"United Kingdom",value:62417431,color:this.getRandomGeoColor()},{code:"US",name:"United States",value:313085380,color:this.getRandomGeoColor()},{code:"UY",name:"Uruguay",value:3380008,color:this.getRandomGeoColor()},{code:"UZ",name:"Uzbekistan",value:27760267,color:this.getRandomGeoColor()},{code:"VE",name:"Venezuela",value:29436891,color:this.getRandomGeoColor()},{code:"PS",name:"West Bank and Gaza",value:4152369,color:this.getRandomGeoColor()},{code:"VN",name:"Vietnam",value:88791996,color:this.getRandomGeoColor()},{code:"YE",name:"Yemen, Rep.",value:24799880,color:this.getRandomGeoColor()},{code:"ZM",name:"Zambia",value:13474959,color:this.getRandomGeoColor()},{code:"ZW",name:"Zimbabwe",value:12754378,color:this.getRandomGeoColor()}],this.mapData.forEach(e=>{e.value>this.max&&(this.max=e.value),e.value<this.min&&(this.min=e.value)}),this.options={title:{text:"Population Spread",left:"center",top:"16px",textStyle:{color:this.bubbleTheme.titleColor}},tooltip:{trigger:"item",formatter:e=>`${e.name}: ${e.value[2]}`},visualMap:{show:!1,min:0,max:this.max,inRange:{symbolSize:[6,60]}},geo:{name:"World Population (2010)",type:"map",map:"world",roam:!0,label:{emphasis:{show:!1}},itemStyle:{normal:{areaColor:this.bubbleTheme.areaColor,borderColor:this.bubbleTheme.areaBorderColor},emphasis:{areaColor:this.bubbleTheme.areaHoverColor}},zoom:1.1},series:[{type:"scatter",coordinateSystem:"geo",data:this.mapData.map(e=>({name:e.name,value:[this.latlong[e.code].longitude,this.latlong[e.code].latitude,e.value],itemStyle:{normal:{color:e.color}}}))}]}})}ngOnDestroy(){this.alive=!1}getRandomGeoColor(){const e=Math.round(Math.random()*this.geoColors.length);return this.geoColors[e]}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](n.Cb),l["\u0275\u0275directiveInject"](B.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-bubble-map"]],decls:4,vars:1,consts:[["echarts","",1,"echarts",3,"options"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275text"](2,"Bubble Maps"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](3,"div",0),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("options",t.options))},directives:[n.u,n.w,r.b],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-top:1.25rem}.nb-theme-default   [_nghost-%COMP%]   .echarts[_ngcontent-%COMP%]{width:100%;height:36.5625rem}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-top:1.25rem}.nb-theme-dark   [_nghost-%COMP%]   .echarts[_ngcontent-%COMP%]{width:100%;height:36.5625rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-top:1.25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .echarts[_ngcontent-%COMP%]{width:100%;height:36.5625rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-top:1.25rem}.nb-theme-corporate   [_nghost-%COMP%]   .echarts[_ngcontent-%COMP%]{width:100%;height:36.5625rem}"]}),e})(),I=(()=>{class e{constructor(e,t,o){this.route=e,this.regionService=t,this.mapUtilsService=o,this.region="Kathmandu Valley",this.loading=!0,this.componentAlive=!0,this.mapReady=new v.a(!1),this.options={layers:[this.mapUtilsService.openStreetMaps],zoom:12,crs:d.CRS.EPSG3857,center:d.latLng({lat:27.700769,lng:85.33014}),zoomControl:!0,preferCanvas:!1},this.geoJsonLayerOptions={onEachFeature:(e,t)=>{const o=this.map;t.on({click:e=>{o.fitBounds(e.target.getBounds())}})}},this.wardDataReceived=new v.a(!1),this.isAlive=()=>this.componentAlive}ngOnInit(){this.route.paramMap.pipe(Object(N.a)(this.isAlive)).subscribe(e=>{var t,o,i;const n=null===(t=e)||void 0===t?void 0:t.get("name");this.region=(null===(o=n)||void 0===o?void 0:o.replace(/_/g," "))||this.region,this.type=(null===(i=e)||void 0===i?void 0:i.get("type"))||"returnees"}),this.layersControl=Object.assign(Object.assign({},this.mapUtilsService.baseLayers),{overlays:{}}),this.receiveAndSetWards(),this.receiveAndSetStats()}receiveAndSetWards(){this.getWards().subscribe(e=>{this.wards=e,this.layersControl.overlays.Wards=d.geoJSON(e,this.geoJsonLayerOptions),this.wardDataReceived.next(!0)})}receiveAndSetStats(){this.getStats().subscribe(e=>{this.stats=e,this.wardDataReceived.subscribe(e=>{e&&this.setStats()})})}setStats(){this.markerClusterGroup=d.markerClusterGroup(),this.featureGroup=d.featureGroup(),this.featureGroup.addLayer(this.markerClusterGroup),this.stats.data.forEach(e=>{var t,o,i,n,a,r,s;const l=null===(o=null===(t=this.wards)||void 0===t?void 0:t.features)||void 0===o?void 0:o.find(t=>{var o,i,n;return(null===(o=e)||void 0===o?void 0:o.DDGNWW)===(null===(n=null===(i=t)||void 0===i?void 0:i.properties)||void 0===n?void 0:n.DDGNWW)});if(!l&&!(null===(i=l)||void 0===i?void 0:i.geometry))return;const d=f()(null===(a=null===(n=l)||void 0===n?void 0:n.geometry)||void 0===a?void 0:a.coordinates),u=null===(r=this.mapUtilsService)||void 0===r?void 0:r.getDefaultMarker(d);this.setPopup(u,e,l),null===(s=this.markerClusterGroup)||void 0===s||s.addLayer(u)}),this.layersControl.overlays.Stats=this.markerClusterGroup,this.mapReady.subscribe(e=>{e&&(this.featureGroup.addTo(this.map),this.loading=!1)})}get regionKey(){return this.region?this.region.trim().replace(/ /g,"_").toLowerCase():null}getWards(){return this.regionService.getCacheAreaWards(this.regionKey||"kathmandu_valley")}getStats(){return this.regionService.getCacheAreaStats(this.regionKey||"kathmandu_valley")}ngOnDestroy(){this.componentAlive=!1,this.map.remove()}onMapReady(e){this.map=e,this.mapUtilsService.fullScreenControl.addTo(this.map),this.mapReady.next(!0),setTimeout(()=>{this.map.invalidateSize()},0)}setPopup(e,t,o){var i,n,a,r,s,l;const u=d.popup({maxWidth:100}),c=`\n      <div>\n      <style type="text/css">\n        .tg  {border-collapse:collapse;border-spacing:0;}\n        .tg td {\n          border-color:black;\n          border-style:solid;\n          border-width:1px;\n          font-family:Arial, sans-serif;\n          font-size:14px;\n          overflow:hidden;\n          padding:10px 5px;\n          word-break:normal;\n        }\n        .tg th {\n          border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;\n          font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;\n        }\n        .tg .tg-x5oc{background-color:#fe996b;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-0cjc{background-color:#67fd9a;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-266k{background-color:#9b9b9b;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-d52n{background-color:#32cb00;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-7od5{background-color:#9aff99;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-y698{background-color:#efefef;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-tw5s{background-color:#fe0000;border-color:inherit;text-align:left;vertical-align:top}\n        .tg .tg-pidv{background-color:#ffce93;border-color:inherit;text-align:left;vertical-align:top}\n      </style>\n      <table class="tg">\n        <thead>\n          <tr>\n            <th class="tg-y698" colspan="2">District</th>\n            <th class="tg-y698" colspan="3">${null===(n=null===(i=o)||void 0===i?void 0:i.properties)||void 0===n?void 0:n.DISTRICT}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td class="tg-0pky" colspan="2">Palika</td>\n            <td class="tg-0pky" colspan="3">${null===(r=null===(a=o)||void 0===a?void 0:a.properties)||void 0===r?void 0:r.GaPa_NaPa}</td>\n          </tr>\n          <tr>\n            <td class="tg-y698" colspan="2">Ward No</td>\n            <td class="tg-y698" colspan="3">${null===(l=null===(s=o)||void 0===s?void 0:s.properties)||void 0===l?void 0:l.NEW_WARD_N}</td>\n          </tr>\n          <tr>\n            <td class="tg-266k" colspan="2">Returnee</td>\n            <td class="tg-266k">Test</td>\n            <td class="tg-266k">PCR</td>\n            <td class="tg-266k">RDT</td>\n          </tr>\n          <tr>\n            <td class="tg-pidv">Isolated</td>\n            <td class="tg-pidv">${t.Returnee.Not_Quarantined}</td>\n            <td class="tg-x5oc">Positive</td>\n            <td class="tg-x5oc">${t.PCR.Positive}</td>\n            <td class="tg-x5oc">${t.RDT.Positive}</td>\n          </tr>\n          <tr>\n            <td class="tg-pidv">Quarantined</td>\n            <td class="tg-pidv">${t.Returnee.Quarantined}</td>\n            <td class="tg-0cjc">Negative</td>\n            <td class="tg-0cjc">${t.PCR.Negative}</td>\n            <td class="tg-0cjc">${t.RDT.Negative}</td>\n          </tr>\n          <tr>\n            <td class="tg-y698">Total</td>\n            <td class="tg-y698">${t.Returnee.Quarantined+t.Returnee.Not_Quarantined}</td>\n            <td class="tg-y698"> </td>\n            <td class="tg-y698">${t.PCR.Positive+t.PCR.Negative}</td>\n            <td class="tg-y698">${t.RDT.Positive+t.RDT.Negative}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>`;u.setContent(c),e.bindPopup(u)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](G),l["\u0275\u0275directiveInject"](L))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-region"]],decls:7,vars:9,consts:[["nbSpinnerSize","giant","nbSpinnerStatus","primary",3,"nbSpinner"],["leaflet","",3,"leafletOptions","leafletLayersControl","leafletMapReady"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"nb-card"),l["\u0275\u0275elementStart"](1,"nb-card-header"),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"titlecase"),l["\u0275\u0275pipe"](4,"titlecase"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"nb-card-body",0),l["\u0275\u0275elementStart"](6,"div",1),l["\u0275\u0275listener"]("leafletMapReady",(function(e){return t.onMapReady(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate2"]("",l["\u0275\u0275pipeBind1"](3,5,t.region)," : ",l["\u0275\u0275pipeBind1"](4,7,t.type)," Map"),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("nbSpinner",t.loading),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("leafletOptions",t.options)("leafletLayersControl",t.layersControl))},directives:[n.u,n.w,n.t,n.vb,i.a,i.c],pipes:[P.t],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-default   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-default   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-default   [_nghost-%COMP%]     .leaflet-container{width:100%;height:75vh}.nb-theme-default   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-dark   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-container{width:100%;height:75vh}.nb-theme-dark   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-container{width:100%;height:75vh}.nb-theme-cosmic   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:0}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-bottom, .nb-theme-corporate   [_nghost-%COMP%]     .leaflet-top{z-index:997}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-container{width:100%;height:75vh}.nb-theme-corporate   [_nghost-%COMP%]     .leaflet-popup-content-wrapper{width:315px}"]}),e})();const z=[{path:"",component:h,children:[{path:"area/:name",component:I},{path:"area/:name/:type",component:I},{path:"nepal",component:E},{path:"bubble",component:F}]}];let U=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[c.g.forChild(z)],c.g]}),e})();o.d(t,"MapsModule",(function(){return j}));let j=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.a,i.d,u,U,r.a,n.x,n.wb,a.ChartModule]]}),e})()},bMVF:function(e,t,o){},lcx6:function(e,t,o){"use strict";var i=o("+jW5");function n(e,t,o){var n,s,l,d;t=t||1;for(var u=0;u<e[0].length;u++){var c=e[0][u];(!u||c[0]<n)&&(n=c[0]),(!u||c[1]<s)&&(s=c[1]),(!u||c[0]>l)&&(l=c[0]),(!u||c[1]>d)&&(d=c[1])}var h=l-n,g=d-s,m=Math.min(h,g),p=m/2;if(0===m){var _=[n,s];return _.distance=0,_}for(var f=new i(void 0,a),v=n;v<l;v+=m)for(var C=s;C<d;C+=m)f.push(new r(v+p,C+p,p,e));var y=function(e){for(var t=0,o=0,i=0,n=e[0],a=0,s=n.length,l=s-1;a<s;l=a++){var d=n[a],u=n[l],c=d[0]*u[1]-u[0]*d[1];o+=(d[0]+u[0])*c,i+=(d[1]+u[1])*c,t+=3*c}return 0===t?new r(n[0][0],n[0][1],0,e):new r(o/t,i/t,0,e)}(e),L=new r(n+h/2,s+g/2,0,e);L.d>y.d&&(y=L);for(var b=f.length;f.length;){var S=f.pop();S.d>y.d&&(y=S,o&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,b)),S.max-y.d<=t||(f.push(new r(S.x-(p=S.h/2),S.y-p,p,e)),f.push(new r(S.x+p,S.y-p,p,e)),f.push(new r(S.x-p,S.y+p,p,e)),f.push(new r(S.x+p,S.y+p,p,e)),b+=4)}o&&(console.log("num probes: "+b),console.log("best distance: "+y.d));var M=[y.x,y.y];return M.distance=y.d,M}function a(e,t){return t.max-e.max}function r(e,t,o,i){this.x=e,this.y=t,this.h=o,this.d=function(e,t,o){for(var i=!1,n=1/0,a=0;a<o.length;a++)for(var r=o[a],l=0,d=r.length,u=d-1;l<d;u=l++){var c=r[l],h=r[u];c[1]>t!=h[1]>t&&e<(h[0]-c[0])*(t-c[1])/(h[1]-c[1])+c[0]&&(i=!i),n=Math.min(n,s(e,t,c,h))}return 0===n?0:(i?1:-1)*Math.sqrt(n)}(e,t,i),this.max=this.d+this.h*Math.SQRT2}function s(e,t,o,i){var n=o[0],a=o[1],r=i[0]-n,s=i[1]-a;if(0!==r||0!==s){var l=((e-n)*r+(t-a)*s)/(r*r+s*s);l>1?(n=i[0],a=i[1]):l>0&&(n+=r*l,a+=s*l)}return(r=e-n)*r+(s=t-a)*s}i.default&&(i=i.default),e.exports=n,e.exports.default=n},"tl+D":function(e,t,o){var i=o("LboF"),n=o("bMVF");"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},ufYB:function(e,t){!function(){L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(e){var t,o="leaflet-control-zoom-fullscreen",i="";return t=e.zoomControl&&!this.options.forceSeparateButton?e.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this.options.content?i=this.options.content:o+=" fullscreen-icon",this._createButton(this.options.title,o,i,t,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),t},onRemove:function(t){L.DomEvent.off(this.link,"click",L.DomEvent.stopPropagation).off(this.link,"click",L.DomEvent.preventDefault).off(this.link,"click",this.toggleFullScreen,this),L.DomEvent.off(this._container,e.fullScreenEventName,L.DomEvent.stopPropagation).off(this._container,e.fullScreenEventName,L.DomEvent.preventDefault).off(this._container,e.fullScreenEventName,this._handleFullscreenChange,this),L.DomEvent.off(document,e.fullScreenEventName,L.DomEvent.stopPropagation).off(document,e.fullScreenEventName,L.DomEvent.preventDefault).off(document,e.fullScreenEventName,this._handleFullscreenChange,this)},_createButton:function(t,o,i,n,a,r){return this.link=L.DomUtil.create("a",o,n),this.link.href="#",this.link.title=t,this.link.innerHTML=i,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",t),L.DomEvent.on(this.link,"click",L.DomEvent.stopPropagation).on(this.link,"click",L.DomEvent.preventDefault).on(this.link,"click",a,r),L.DomEvent.on(n,e.fullScreenEventName,L.DomEvent.stopPropagation).on(n,e.fullScreenEventName,L.DomEvent.preventDefault).on(n,e.fullScreenEventName,this._handleFullscreenChange,r),L.DomEvent.on(document,e.fullScreenEventName,L.DomEvent.stopPropagation).on(document,e.fullScreenEventName,L.DomEvent.preventDefault).on(document,e.fullScreenEventName,this._handleFullscreenChange,r),this.link},toggleFullScreen:function(){var t=this._map;t._exitFired=!1,t._isFullscreen?(e.supportsFullScreen&&!this.options.forcePseudoFullscreen?e.cancelFullScreen():L.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:t._container,"leaflet-pseudo-fullscreen"),t.fire("exitFullscreen"),t._exitFired=!0,t._isFullscreen=!1):(e.supportsFullScreen&&!this.options.forcePseudoFullscreen?e.requestFullScreen(this.options.fullscreenElement?this.options.fullscreenElement:t._container):L.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:t._container,"leaflet-pseudo-fullscreen"),t.fire("enterFullscreen"),t._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleFullscreenChange:function(){var t=this._map;t.invalidateSize(),e.isFullScreen()||t._exitFired||(t.fire("exitFullscreen"),t._exitFired=!0,t._isFullscreen=!1)}}),L.Map.include({toggleFullscreen:function(){this.fullscreenControl.toggleFullScreen()}}),L.Map.addInitHook((function(){this.options.fullscreenControl&&this.addControl(L.control.fullscreen(this.options.fullscreenControlOptions))})),L.control.fullscreen=function(e){return new L.Control.FullScreen(e)};var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if(void 0!==document.exitFullscreen)e.supportsFullScreen=!0;else{for(var o=0,i=t.length;o<i;o++)if(e.prefix=t[o],void 0!==document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}void 0!==document.msExitFullscreen&&(e.prefix="ms",e.supportsFullScreen=!0)}e.supportsFullScreen&&(e.fullScreenEventName="ms"===e.prefix?"MSFullscreenChange":e.prefix+"fullscreenchange",e.isFullScreen=function(){switch(this.prefix){case"":return document.fullscreen;case"webkit":return document.webkitIsFullScreen;case"ms":return document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},e.requestFullScreen=function(e){switch(this.prefix){case"":return e.requestFullscreen();case"ms":return e.msRequestFullscreen();default:return e[this.prefix+"RequestFullScreen"]()}},e.cancelFullScreen=function(){switch(this.prefix){case"":return document.exitFullscreen();case"ms":return document.msExitFullscreen();default:return document[this.prefix+"CancelFullScreen"]()}}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each((function(){var t=jQuery(this);e.supportsFullScreen&&e.requestFullScreen(t)}))}),window.fullScreenApi=e}()}}]);
//# sourceMappingURL=maps-maps-module-es2015.006963684ae712b6186c.js.map